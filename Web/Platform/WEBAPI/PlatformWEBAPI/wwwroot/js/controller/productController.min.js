R.Product={Init:function(){R.Product.BindingTotal(),R.Product.RegisterEvent(),R.Product.culture=R.Culture(),R.Product.location_id=R.CurrentLocationId(),R.Extra.BindingExtraToProduct()},RegisterEvent:function(){$(".select-zone").off("click").on("click",function(){$(this).closest(".swiper-wrapper").find(".swiper-slide-active").removeClass("swiper-slide-active"),$(this).closest(".swiper-slide").addClass("swiper-slide-active"),$(this).closest(".menu-op").find(".active").removeClass("active"),$(this).addClass("active");var t=$(this),i=$(this).data("id");R.Product.BindingProduct(i,t)}),$(".select-zone-filterd").off("click").on("click",function(){$(this).closest(".swiper-wrapper").find(".swiper-slide-active").removeClass("swiper-slide-active"),$(this).closest(".swiper-slide").addClass("swiper-slide-active");var t=$(this),i=$(this).data("id"),e=$(".picking-active").data("manu-id"),n=$(".range-price").val(),o=0,r=0;if(""!=n){var c=n.split("-");o=c[0],r=c[1]}var a=[];$(".dynamic-filter").each(function(t){var i={SpectificationId:$(this).data("spec-id"),Value:$(this).val()};a.push(i)});var d=$(".color").val(),s=$(".extra").val(),l=0,u=0;"2"==s&&(l=1),"3"==s&&(u=1);var p={parentId:i,lang_code:"vi-VN",locationId:R.Product.location_id,manufacture_id:e,min_price:parseInt(o),max_price:parseInt(r),sort_price:l,sort_rate:u,color_code:d,filter:a,filter_text:"",material_type:0,pageNumber:1,pageSize:20};R.Product.BindingProductFilterd(p,t)}),$(".view-more").off("click").on("click",function(){console.log(1);var t=$(this),i=$(this).data("id"),e=$(this).closest(".container").find(".set-total").data("is-rendered"),n=$(this).data("size");R.Product.ViewMore(i,t,e,n)}),$(".button-view-more").off("click").on("click",function(){console.log(1);var t=$(this),i=$(this).data("id"),e=$(this).closest(".container").find(".set-total").data("is-rendered"),n=$(this).data("size");R.Product.ViewMore(i,t,e,n)}),$(".star-rating i").off("click").on("click",function(){$(this).parent().find(".star-rating i").removeClass("checked"),$(this).addClass("checked"),$(this).prevAll().addClass("checked"),$(this).nextAll().removeClass("checked");var t=$(this).closest(".star-rating").data("id");R.Product.Rating(t,2)}),$(".filter-picking").off("click").on("click",function(){var t=$(this);t.closest(".container").find(".filter-picking").each(function(t){$(this).removeClass("picking-active")}),t.addClass("picking-active"),R.Product.Filter_v1(1)}),$(".filter-select").off("change").on("change",function(){R.Product.Filter_v1(1)}),$(".filterd-view-more").off("click").on("click",function(){var t=$(this).data("index")+1;$(this).data("index",t),R.Product.Filter_v1(t)})},BindingTotal:function(){$(".set-total").each(function(t){var i=$(this).data("total"),e=$(this).data("id"),n=$(this).data("is-rendered");console.log(i,n),i<=n?($(this).closest(".container").find(".tong_so_sp").parent().hide(),$(this).closest(".container").find(".button-view-more").parent().hide()):($(this).closest(".container").find(".tong_so_sp").text(i-n),$(this).closest(".container").find(".tong_so_sp").parent().show(),$(this).closest(".container").find(".tong_so_sp").parent().data("size",20),$(this).closest(".container").find(".tong_so_sp").parent().data("id",e),$(this).closest(".container").find(".button-view-more").parent().show(),$(this).closest(".container").find(".button-view-more").data("size",20),$(this).closest(".container").find(".button-view-more").data("id",e))})},BindingProduct:function(t,i){console.log(t);var e={zone_id:t,location_id:3};$.post(R.Product.culture+"/Product/GetProductByZoneId",e,function(t){console.log(t),i.closest(".container").find("._binding_product").html(t);var e=i.closest(".container").find("._binding_product");R.Extra.BindingExtraToProductInElement(e),R.Product.BindingTotal(),R.Product.RegisterEvent()})},BindingProductFilterd:function(t,i){$.post(R.Product.culture+"/Product/FilterSpectificationInZoneListProductList",t,function(t){console.log(t),i.closest(".container").find("._binding_product").html(t);var e=i.closest(".container").find("._binding_product");R.Extra.BindingExtraToProductInElement(e),R.Product.BindingTotal(),R.Product.RegisterEvent()})},ViewMore:function(t,i,e,n){var o={zone_parent_id:t,locationId:3,skip:e,size:n};$.post(R.Product.culture+"/Product/ViewMore",o,function(t){i.closest(".container").find("._binding_product").append(t);var o=i.closest(".container").find("._binding_product"),r=e+n;i.closest(".container").find(".set-total").data("is-rendered",r),R.Extra.BindingExtraToProductInElement(o),R.Product.BindingTotal(),R.Product.RegisterEvent()})},Rating:function(t,i){var e=0;$(".star-rating").find(".checked").each(function(t){e++}),console.log(e);var n=R.Product.culture+"/Extra/CreateRating",o={objectId:t,objectType:i,rate:e};$.post(n,o,function(t){console.log(t),$(".star-rating i").off("click")})},Filter:function(){var t=$("#zone-current").data("id"),i=$(".picking-active").data("manu-id"),e=$(".range-price").val(),n=0,o=0;if(""!=e){var r=e.split("-");n=r[0],o=r[1]}var c=[];$(".dynamic-filter").each(function(t){var i={SpectificationId:$(this).data("spec-id"),Value:$(this).val()};c.push(i)});var a=$(".color").val(),d=$(".extra").val(),s=0,l=0;"2"==d&&(s=1),"3"==d&&(l=1);var u={parentId:t,lang_code:"vi-VN",locationId:R.Product.location_id,manufacture_id:i,min_price:parseInt(n),max_price:parseInt(o),sort_price:s,sort_rate:l,color_code:a,filter:c,filter_text:"",material_type:0,pageNumber:1,pageSize:20},p=R.Product.culture+"/Product/FilterSpectificationInZone";$.post(p,u,function(t){console.log(t),$("#append-filter").html("").html(t),slidermenu(),R.Extra.BindingExtraToProduct(),R.Product.BindingTotal(),R.Product.RegisterEvent()})},Filter_v1:function(t){var i=$("#zone-current").data("id"),e=$(".picking-active").data("manu-id"),n=$(".range-price").val(),o=0,r=0;if(""!=n){var c=n.split("-");o=c[0],r=c[1]}var a=[];$(".dynamic-filter").each(function(t){var i={SpectificationId:$(this).data("spec-id"),Value:$(this).val()};a.push(i)});var d=$(".color").val(),s=$(".extra").val(),l=0,u=0;"2"==s&&(l=1),"3"==s&&(u=1);var p={parentId:i,lang_code:"vi-VN",locationId:R.Product.location_id,manufacture_id:e,min_price:parseInt(o),max_price:parseInt(r),sort_price:l,sort_rate:u,color_code:d,filter:a,filter_text:"",material_type:0,pageNumber:t,pageSize:18},f=R.Product.culture+"/FilterProduct/FilterProductBySpectification";$.post(f,p,function(i){console.log(i),1==t&&($("#_binding_tim_kiem").html("").html(i),$("#_binding_tim_kiem").css("display","block"),$("._title_tim_kiem").css("display","block")),t>1&&($(".filter-view-more").append(i),$(".filter-view-more").find(".filterd-view-more").parent().hide()),slidermenu(),R.Extra.BindingExtraToProduct(),R.Product.BindingTotal(),R.Product.RegisterEvent()})}},$(function(){R.Product.Init()});