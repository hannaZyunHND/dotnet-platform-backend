R.Home={Init:function(){R.Home.RegisterEvent(),R.Home.culture=R.Culture(),R.Home.currentLocationId=R.CurrentLocationId(),R.Home.BindingTotal(),R.Home.CountDownFlashSale(".flash-sale")},RegisterEvent:function(){$(".tab-region").off("click").on("click",function(){$(this).closest(".swiper-wrapper").find(".swiper-slide-active").removeClass("swiper-slide-active"),$(this).closest(".swiper-slide").addClass("swiper-slide-active"),$(this).closest(".menu-op").find(".active").removeClass("active"),$(this).addClass("active");var i=$(this).data("region-id");R.Home.SwitchRegion($(this),i)}),$(".view-remain-product").off("click").on("click",function(){console.log(1);var i=$(this),t=$(this).data("id"),e=$(this).data("skip"),o=$(this).data("size");R.Home.ViewMoreRegion(t,i,e,o)})},SwitchRegion:function(i,t){var e=R.Home.culture+"/Home/SwitchRegion",o={region_id:t};$.post(e,o,function(t){i.closest(".container").find("._binding_product").replaceWith(t);i.closest(".container").find("._binding_product").data("total-product"),i.closest(".container").find(".remain-product").data("page-size");R.Home.BindingTotal(),R.Extra.BindingExtraToProduct()})},ViewMoreRegion:function(i,t,e,o){var n={zone_parent_id:i,locationId:R.Home.currentLocationId,skip:e,size:o};$.post(R.Home.culture+"/Home/ViewMoreRegion",n,function(i){t.closest(".container").find("._binding_product").append(i),t.closest(".container").find(".view-remain-product").hide(),R.Extra.BindingExtraToProduct(),R.Home.RegisterEvent()})},BindingTotal:function(){$(".set-total").each(function(i){var t=$(this).data("total"),e=$(this).data("id");if(console.log(t),t<=9)$(this).closest(".container").find(".remain-product").html("<b>0</b>");else{var o=t-9;$(this).closest(".container").find(".remain-product").html("<b>"+o+"</b>"),$(this).closest(".container").find(".remain-product").closest(".view-remain-product").show(),$(this).closest(".container").find(".remain-product").closest(".view-remain-product").data("size",t-9),$(this).closest(".container").find(".remain-product").closest(".view-remain-product").data("id",e)}})},CountDownFlashSale:function(i){var t=$(i).data("end-time");R.CountDown(t,i)}},$(function(){R.Home.Init()});